matrix:
  platform: ["macos", "ubuntu2004", "windows"]

tasks:
  go_extension:
    name: go_${{ platform }}
    platform: ${{ platform }}
    shell_commands:
      - cd tools/bzlmod_migration_test_examples/go_extension && python3 migration_test.py
  maven_extension:
    name: maven_${{ platform }}
    platform: ${{ platform }}
    shell_commands:
      - cd tools/bzlmod_migration_test_examples/maven_extensions && python3 ../migration_test.py
  python_extension:
    name: python_${{ platform }}
    platform: ${{ platform }}
    shell_commands:
      - cd tools/bzlmod_migration_test_examples/py_extension && python3 ../migration_test.py
  simple_deps_extension:
    name: simple_deps_${{ platform }}
    platform: ${{ platform }}
    shell_commands:
      - cd tools/bzlmod_migration_test_examples/simple_module_deps && python3 migration_test.py
