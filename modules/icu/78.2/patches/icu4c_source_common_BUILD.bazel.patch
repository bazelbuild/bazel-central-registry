diff --git a/source/common/BUILD.bazel b/source/common/BUILD.bazel
index e894ed9..496ec24 100644
--- a/source/common/BUILD.bazel
+++ b/source/common/BUILD.bazel
@@ -13,10 +13,10 @@ package(
 )
 
 # When compiling code in the `common` dir, the constant
-# `U_COMMON_IMPLEMENTATION` needs to be defined. See 
+# `U_COMMON_IMPLEMENTATION` needs to be defined. See
 # https://unicode-org.github.io/icu/userguide/howtouseicu#c-with-your-own-build-system .
 
-# If linker errors occur, then this may be a sign that the dependencies were 
+# If linker errors occur, then this may be a sign that the dependencies were
 # not specified correctly. Use dependencies.txt in depstest for assistance. See
 # https://stackoverflow.com/q/66111709/2077918 .
 
@@ -43,37 +43,20 @@ cc_library(
 
 cc_library(
     name = "platform",
-    srcs = [
-        "cmemory.cpp", 
-        "uobject.cpp",
-        "cstring.cpp",
-        "cwchar.cpp",
-        "uinvchar.cpp",
-        "charstr.cpp",
-        "unistr.cpp",
-        "appendable.cpp",
-        "stringpiece.cpp",
-        "ustrtrns.cpp",
-        "ustring.cpp",  
-        "ustrfmt.cpp",  
-        "utf_impl.cpp",
-        "putil.cpp",
-        "ucln_cmn.cpp",  
-        "udataswp.cpp",  
-        "umath.cpp",
-        "umutex.cpp",
-        "sharedobject.cpp",
-        "utrace.cpp",
-        "fixedstring.cpp",
-    ],
+    hdrs = glob(["*.h"]),
+    srcs = glob(["*.cpp"]),
     deps = [
         ":headers",
+        "//:icudata",
         # omit other deps b/c they are sys symbols
     ],
     local_defines = [
         "U_COMMON_IMPLEMENTATION",
     ],
-    linkopts = ["-ldl"],
+    linkopts = select({
+        "@platforms//os:linux": ["-ldl"],
+        "//conditions:default": [],
+    }),
 )
 
 cc_library(
@@ -1214,6 +1197,6 @@ cc_library(
         ":headers",
     ],
     local_defines = [
-        "U_COMMON_IMPLEMENTATION",  
+        "U_COMMON_IMPLEMENTATION",
     ],
 )
diff --git a/source/i18n/BUILD.bazel b/source/i18n/BUILD.bazel
index 2d85cdb..b7addd9 100644
--- a/source/i18n/BUILD.bazel
+++ b/source/i18n/BUILD.bazel
@@ -13,10 +13,10 @@ package(
 )
 
 # When compiling code in the `common` dir, the constant
-# `U_I18n_IMPLEMENTATION` needs to be defined. See 
+# `U_I18n_IMPLEMENTATION` needs to be defined. See
 # https://unicode-org.github.io/icu/userguide/howtouseicu#c-with-your-own-build-system .
 
-# If linker errors occur, then this may be a sign that the dependencies were 
+# If linker errors occur, then this may be a sign that the dependencies were
 # not specified correctly. Use dependencies.txt in depstest for assistance. See
 # https://stackoverflow.com/q/66111709/2077918 .
 
@@ -38,37 +38,9 @@ cc_library(
 
 cc_library(
     name = "collation",
-    srcs = [
-        "bocsu.cpp",
-        "coleitr.cpp",
-        "coll.cpp",
-        "collation.cpp",
-        "collationcompare.cpp",
-        "collationdata.cpp",
-        "collationdatareader.cpp",
-        "collationdatawriter.cpp",
-        "collationfastlatin.cpp",
-        # collationfcd.cpp is generated by genuca;
-        # probably hard to build genuca without depending on the old version.
-        "collationfcd.cpp",
-        "collationiterator.cpp",
-        "collationkeys.cpp",
-        "collationroot.cpp",
-        "collationrootelements.cpp",
-        "collationsets.cpp",
-        "collationsettings.cpp",
-        "collationtailoring.cpp",
-        "rulebasedcollator.cpp",
-        "sortkey.cpp",
-        "ucol.cpp",
-        "ucol_res.cpp",
-        "ucol_sit.cpp",
-        "ucoleitr.cpp",
-        "uitercollationiterator.cpp",
-        "utf16collationiterator.cpp",
-        "utf8collationiterator.cpp",
-    ],
     includes = ["."],
+    hdrs = glob(["*.h"]),
+    srcs = glob(["*.cpp"]),
     deps = [
         ":headers",
         ":uclean_i18n",
