load(":boost_test_suite.bzl", "boost_test_suite")

boost_test_suite(
    name = "gen_boost.sort_test_targets",
    cc_srcs = glob(
        ["*.cpp"],
    ),
    defines = select({
        "@platforms//os:windows": [
            # MSVC has `and` and `or` preprocessor macros which confuse
            # the compiler when including `and.hpp` and `or.hpp` from `boost.mpl`
            # and end up trying to include `&.hpp` and `||.hpp`.
            "BOOST_MPL_CFG_NO_PREPROCESSED_HEADERS",
        ],
        "//conditions:default": [],
    }),
    deps = [
        "@boost.sort",
	"@boost.test//:hdrs",
    ],
)
