diff --git pcl_config.h.in pcl_config.h.in
index 5b07e0d..11ea19a 100644
--- pcl_config.h.in
+++ pcl_config.h.in
@@ -35,7 +35,13 @@
   #endif //PCL_MINOR_VERSION
 #endif 
 
-#define PCL_USES_EIGEN_HANDMADE_ALIGNED_MALLOC ${PCL_USES_EIGEN_HANDMADE_ALIGNED_MALLOC}
+#if (defined(EIGEN_DEFAULT_ALIGN_BYTES) && EIGEN_DEFAULT_ALIGN_BYTES==0) || (defined(EIGEN_MALLOC_ALREADY_ALIGNED) && EIGEN_MALLOC_ALREADY_ALIGNED)
+  #define PCL_USES_EIGEN_HANDMADE_ALIGNED_MALLOC 1
+#else
+  #define PCL_USES_EIGEN_HANDMADE_ALIGNED_MALLOC 0
+#endif
+
+#cmakedefine PCL_SILENCE_MALLOC_WARNING
 
 #cmakedefine HAVE_OPENNI 1
 
@@ -99,4 +105,3 @@
 #define VTK_RENDERING_BACKEND_OPENGL_VERSION ${VTK_RENDERING_BACKEND_OPENGL_VERSION}
 
 #cmakedefine HAVE_QVTK 1
-
