--- /dev/null	2023-06-26 13:22:32
+++ BUILD.bazel	2023-06-26 13:00:24
@@ -0,0 +1,30 @@
+_COPTS = ["-O3", "-Wall", "-Wextra", "-Wno-unknown-pragmas", "-Wcast-qual"]
+
+cc_library(
+    name = "try",
+    srcs = ["try.c"],
+    hdrs = ["try.h"],
+    copts = _COPTS,
+)
+
+# yarnt.o: yarn.c yarn.h
+# 	$(CC) $(CFLAGS) -DPIGZ_DEBUG -g -c -o yarnt.o yarn.c
+cc_library(
+    name = "yarn",
+    srcs = ["yarn.c"],
+    hdrs = ["yarn.h"],
+    copts = _COPTS,
+)
+
+cc_library(
+    name = "pigz",
+    srcs = ["pigz.c"],
+    deps = [":try", ":yarn", "@zopfli"],
+    copts = _COPTS,
+)
+
+cc_binary(
+    name = "bin",
+    deps = [":pigz"],
+    linkopts = ["-lm", "-lpthread", "-lz"],   
+)
