matrix:
  platform:
    - debian11
    - ubuntu2204
    # TODO: add [ubuntu2004_arm64, macos, macos_arm64, windows]
  bazel:
    - 7.x
tasks:
  verify_targets:
    name: Build targets
    platform: ${{ platform }}
    bazel: ${{ bazel }}
    build_targets:
      - "@squashfs-tools-ng//bin/gensquashfs:gensquashfs"
      - "@squashfs-tools-ng//bin/rdsquashfs:rdsquashfs"
      - "@squashfs-tools-ng//bin/sqfs2tar:sqfs2tar"
      - "@squashfs-tools-ng//bin/sqfsdiff:sqfsdiff"
      - "@squashfs-tools-ng//bin/tar2sqfs:tar2sqfs"
