load("@rules_cc//cc:defs.bzl", "cc_library")

package(default_visibility = ["//visibility:public"])

cc_library(
    name = "testutils",
    srcs = [
        "utils.c",
        "utils-prng.c",
    ],
    hdrs = [
        "utils.h",
        "utils-prng.h",
    ],
    defines = ["HAVE_CONFIG_H"],
    deps = ["//pixman:pixman"],
    includes = ["."],
    linkopts = select({
        "@platforms//os:windows": [],
        "//conditions:default": ["-pthread"],
    }),
)
