# BCR presubmit configuration for SWIG module
# This file defines the build verification tests for SWIG

# Simple smoke test matrix
matrix:
  platform:
    - ubuntu2004
    - macos
    - windows
  bazel: ["7.x", "8.x"]

tasks:
  verify_targets:
    name: Verify SWIG build targets
    platform: ${{ platform }}
    bazel: ${{ bazel }}
    build_targets:
      - "@swig//:swig"
      - "@swig//:lib_java"
      - "@swig//:lib_python"
      - "@swig//:lib_tcl"

  bcr_test:
    name: BCR publication validation
    platform: ${{ platform }}
    bazel: ${{ bazel }}
    build_flags:
      - "--noenable_bzlmod"
    test_module_build_targets:
      - "@swig//:swig"
