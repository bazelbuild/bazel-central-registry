load("@rules_cc//cc:defs.bzl", "cc_library", "cc_test")

cc_library(
    name = "unit_tests_static",
    testonly = True,
    srcs = glob(["static/*.cpp"], exclude = [
                 "static/unit_magnitude_test.cpp",
                 "static/magnitude_test.cpp",
                 "static/custom_rep_test_min_expl.cpp",
                 "static/iau_test.cpp",
                ]) + ["static/test_tools.h"],
    deps = [
        "//:mp-units",
    ],
)

cc_test(
    name = "unit_tests_runtime",
    srcs = glob(["runtime/*.cpp"],exclude = [
                 "runtime/linear_algebra_test.cpp",
                ]) + ["runtime/almost_equals.h"],
    deps = [
        "//:mp-units",
        "@catch2//:catch2",
        "@catch2//:catch2_main",
    ],
    copts = ["-Wno-conversion", "-Wno-subobject-linkage",],
)
