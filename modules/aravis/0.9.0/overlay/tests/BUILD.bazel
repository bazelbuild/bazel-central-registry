[
    cc_test(
        name = target,
        srcs = ["%s.c" % target],
        data = [data] if data else [],
        defines = ["GENICAM_FILENAME=\\\"$(rootpath %s)\\\"" % data] if data else [],
        deps = ["@aravis"],
    )
    for target, data in [
        ("evaluator", None),
        ("buffer", None),
        ("misc", None),
        ("dom", "data/genicam.xml"),
        ("genicam", "data/genicam.xml"),
        ("fake", "//src:fake_camera_config"),
        ("fakegv", "//src:fake_camera_config"),
    ]
]
