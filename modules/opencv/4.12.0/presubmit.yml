matrix:
  linux_platform:
  - ubuntu2204
  - ubuntu2004_arm64
  mac_platform:
  - macos_arm64
  bazel:
  - 8.x
  - rolling
tasks:
  verify_targets_mac:
    name: Verify build targets (MacOS)
    platform: ${{ mac_platform }}
    bazel: ${{ bazel }}
    build_targets:
    - '@opencv//:opencv'
  verify_targets_linux:
    name: Verify build targets (Ubuntu)
    platform: ${{ linux_platform }}
    bazel: ${{ bazel }}
    shell_commands:
      - sudo apt update && sudo apt install -y libgtk-3-dev
    build_targets:
    - '@opencv//:opencv'
