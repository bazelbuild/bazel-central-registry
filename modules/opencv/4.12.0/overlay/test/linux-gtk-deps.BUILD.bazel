load("@rules_cc//cc:cc_import.bzl", "cc_import")

package(default_visibility = ["//visibility:public"])

cc_import(
    name = "gtk3",
    system_provided = True,
    interface_library = select({
        "@platforms//cpu:x86_64": "usr/lib/x86_64-linux-gnu/libgtk-3.so",
        "@platforms//cpu:aarch64": "usr/lib/aarch64-linux-gnu/libgtk-3.so",
    }),
    hdrs = glob(["usr/include/gtk-3.0/**/*.h"]),
    strip_include_prefix = "usr/include/gtk-3.0",
    target_compatible_with = ["@platforms//os:linux"],
    deps = [
        ":gdk3",
        ":atk",
    ],
)

cc_import(
    name = "gdk3",
    system_provided = True,
    interface_library = select({
        "@platforms//cpu:x86_64": "usr/lib/x86_64-linux-gnu/libgdk-3.so",
        "@platforms//cpu:aarch64": "usr/lib/aarch64-linux-gnu/libgdk-3.so",
    }),
    target_compatible_with = ["@platforms//os:linux"],
    deps = [
        ":pangocairo",
        ":gdk_pixbuf",
        ":gio",
        ":glib",
    ],
)

cc_import(
    name = "pangocairo",
    system_provided = True,
    interface_library = select({
        "@platforms//cpu:x86_64": "usr/lib/x86_64-linux-gnu/libpangocairo-1.0.so",
        "@platforms//cpu:aarch64": "usr/lib/aarch64-linux-gnu/libpangocairo-1.0.so",
    }),
    target_compatible_with = ["@platforms//os:linux"],
    deps = [
        ":pango",
        ":cairo",
    ],
)

cc_import(
    name = "pango",
    system_provided = True,
    interface_library = select({
        "@platforms//cpu:x86_64": "usr/lib/x86_64-linux-gnu/libpango-1.0.so",
        "@platforms//cpu:aarch64": "usr/lib/aarch64-linux-gnu/libpango-1.0.so",
    }),
    hdrs = glob(["usr/include/pango-1.0/**/*.h"]),
    strip_include_prefix = "usr/include/pango-1.0",
    target_compatible_with = ["@platforms//os:linux"],
    deps = [
        ":harfbuzz",
        ":glib",
        ":gobject",
    ],
)

cc_import(
    name = "harfbuzz",
    system_provided = True,
    interface_library = select({
        "@platforms//cpu:x86_64": "usr/lib/x86_64-linux-gnu/libharfbuzz.so",
        "@platforms//cpu:aarch64": "usr/lib/aarch64-linux-gnu/libharfbuzz.so",
    }),
    hdrs = glob(["usr/include/harfbuzz/**/*.h"]),
    strip_include_prefix = "usr/include/harfbuzz",
    target_compatible_with = ["@platforms//os:linux"],
    deps = [
        ":glib",
    ],
)

cc_import(
    name = "atk",
    system_provided = True,
    interface_library = select({
        "@platforms//cpu:x86_64": "usr/lib/x86_64-linux-gnu/libatk-1.0.so",
        "@platforms//cpu:aarch64": "usr/lib/aarch64-linux-gnu/libatk-1.0.so",
    }),
    hdrs = glob(["usr/include/atk-1.0/**/*.h"]),
    strip_include_prefix = "usr/include/atk-1.0",
    target_compatible_with = ["@platforms//os:linux"],
    deps = [
        ":cairo",
    ],
)

cc_import(
    name = "cairo-gobject",
    system_provided = True,
    interface_library = select({
        "@platforms//cpu:x86_64": "usr/lib/x86_64-linux-gnu/libcairo-gobject.so",
        "@platforms//cpu:aarch64": "usr/lib/aarch64-linux-gnu/libcairo-gobject.so",
    }),
    target_compatible_with = ["@platforms//os:linux"],
    deps = [
        ":cairo",
        ":gobject",
    ],
)

cc_import(
    name = "cairo",
    system_provided = True,
    interface_library = select({
        "@platforms//cpu:x86_64": "usr/lib/x86_64-linux-gnu/libcairo.so",
        "@platforms//cpu:aarch64": "usr/lib/aarch64-linux-gnu/libcairo.so",
    }),
    hdrs = glob(["usr/include/cairo/**/*.h"]),
    strip_include_prefix = "usr/include/cairo",
    target_compatible_with = ["@platforms//os:linux"],
    deps = [
        ":gdk_pixbuf",
        ":gio",
    ],
)

cc_import(
    name = "gdk_pixbuf",
    system_provided = True,
    interface_library = select({
        "@platforms//cpu:x86_64": "usr/lib/x86_64-linux-gnu/libgdk_pixbuf-2.0.so",
        "@platforms//cpu:aarch64": "usr/lib/aarch64-linux-gnu/libgdk_pixbuf-2.0.so",
    }),
    hdrs = glob(["usr/include/gdk-pixbuf-2.0/**/*.h"]),
    strip_include_prefix = "usr/include/gdk-pixbuf-2.0",
    target_compatible_with = ["@platforms//os:linux"],
    deps = [
        ":glib",
        ":gobject",
    ],
)

cc_import(
    name = "gio",
    system_provided = True,
    interface_library = select({
        "@platforms//cpu:x86_64": "usr/lib/x86_64-linux-gnu/libgio-2.0.so",
        "@platforms//cpu:aarch64": "usr/lib/aarch64-linux-gnu/libgio-2.0.so",
    }),
    hdrs = glob(["usr/include/gio-unix-2.0/**/*.h"]),
    strip_include_prefix = "usr/include/gio-unix-2.0",
    target_compatible_with = ["@platforms//os:linux"],
    deps = [
        ":glib",
        ":gobject",
    ],
)

cc_import(
    name = "gobject",
    system_provided = True,
    interface_library = select({
        "@platforms//cpu:x86_64": "usr/lib/x86_64-linux-gnu/libgobject-2.0.so",
        "@platforms//cpu:aarch64": "usr/lib/aarch64-linux-gnu/libgobject-2.0.so",
    }),
    target_compatible_with = ["@platforms//os:linux"],
    deps = [
        ":glib",
    ],
)

cc_library(
    name = "glibconfig-headers",
    hdrs = select({
        "@platforms//cpu:x86_64": glob(["usr/lib/x86_64-linux-gnu/glib-2.0/include/**/*.h"], allow_empty = True),
        "@platforms//cpu:aarch64": glob(["usr/lib/aarch64-linux-gnu/glib-2.0/include/**/*.h"], allow_empty = True),
    }),
    strip_include_prefix = select({
        "@platforms//cpu:x86_64": "usr/lib/x86_64-linux-gnu/glib-2.0/include",
        "@platforms//cpu:aarch64": "usr/lib/aarch64-linux-gnu/glib-2.0/include",
    }),
    target_compatible_with = ["@platforms//os:linux"],
)

cc_import(
    name = "glib",
    system_provided = True,
    interface_library = select({
        "@platforms//cpu:x86_64": "usr/lib/x86_64-linux-gnu/libglib-2.0.so",
        "@platforms//cpu:aarch64": "usr/lib/aarch64-linux-gnu/libglib-2.0.so",
    }),
    hdrs = glob(["usr/include/glib-2.0/**/*.h"]),
    strip_include_prefix = "usr/include/glib-2.0",
    target_compatible_with = ["@platforms//os:linux"],
    deps = [
        ":glibconfig-headers",
    ],
)
