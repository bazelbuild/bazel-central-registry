diff BUILD.bazel BUILD.bazel

--- BUILD.bazel
+++ BUILD.bazel
@@ -41,6 +41,22 @@ cc_library(
     ],
 )

+cc_library(
+    name = "lz4_file",
+    srcs = [
+        "lib/lz4file.c",
+    ],
+    hdrs = [
+        "lib/lz4file.h",
+    ],
+    strip_include_prefix = "lib/",
+    visibility = ["//:__subpackages__"],
+    deps = [
+        ":lz4",
+        ":lz4_frame",
+    ],
+)
+
 cc_library(
     name = "lz4_frame",
     srcs = [
@@ -57,3 +73,12 @@ cc_library(
         ":lz4_hc",
     ],
 )
+
+cc_library(
+    name = "lz4_xxhash_include",
+    hdrs = [
+        "lib/xxhash.h",
+    ],
+    strip_include_prefix = "lib/",
+    visibility = ["//:__subpackages__"],
+)
diff programs/BUILD.bazel programs/BUILD.bazel
--- /dev/null
+++ programs/BUILD.bazel
@@ -0,0 +1,24 @@
+load("@rules_cc//cc:defs.bzl", "cc_binary")
+
+cc_binary(
+    name = "lz4",
+    srcs = [
+        "bench.c",
+        "bench.h",
+        "datagen.c",
+        "datagen.h",
+        "lz4cli.c",
+        "lz4io.c",
+        "lz4io.h",
+        "platform.h",
+        "util.h",
+    ],
+    visibility = ["//visibility:public"],
+    deps = [
+        "//:lz4",
+        "//:lz4_file",
+        "//:lz4_frame",
+        "//:lz4_hc",
+        "//:lz4_xxhash_include",
+    ],
+)
