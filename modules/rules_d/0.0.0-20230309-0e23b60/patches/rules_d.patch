diff --git a/d/d.bzl b/d/d.bzl
index 0d2696f..0b8fca5 100644
--- a/d/d.bzl
+++ b/d/d.bzl
@@ -596,3 +596,5 @@ def d_repositories():
         sha256 = "8065df7316e4d2d9e1f322998ec16b4b52c5c966dc3e7220159ba4029d5b97ba",
         build_file_content = DMD_BUILD_FILE,
     )
+
+non_module_deps = module_extension(implementation = lambda x: d_repositories())
