matrix:
  platform: ["debian11", "macos", "ubuntu2404", "windows"]
  bazel: ["7.x", "8.x"]

tasks:
  verify_targets:
    platform: ${{ platform }}
    bazel: ${{ bazel }}
    build_flags:
      - "--java_language_version=21"
      - "--tool_java_language_version=21"
      - "--java_runtime_version=21"
      - "--tool_java_runtime_version=21"
    build_targets:
      - "@copybara//java/com/google/copybara:copybara"
