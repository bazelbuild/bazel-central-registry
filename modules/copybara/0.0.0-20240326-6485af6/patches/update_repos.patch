diff --git a/repositories.bzl b/repositories.bzl
index 7912c917..626aae8d 100644
--- a/repositories.bzl
+++ b/repositories.bzl
@@ -15,7 +15,6 @@
 load("@bazel_tools//tools/build_defs/repo:http.bzl", "http_archive")
 load("@bazel_tools//tools/build_defs/repo:utils.bzl", "maybe")
 load("//third_party:bazel.bzl", "bazel_sha256", "bazel_version")
-load("//third_party:bazel_buildtools.bzl", "buildtools_sha256", "buildtools_version")
 load("//third_party:bazel_skylib.bzl", "skylib_sha256", "skylib_version")
 
 def copybara_repositories():
@@ -43,25 +42,6 @@ def copybara_repositories():
         patch_args = ["-p1"],
     )
 
-    # LICENSE: The Apache Software License, Version 2.0
-    maybe(
-        http_archive,
-        name = "io_bazel",
-        sha256 = bazel_sha256,
-        strip_prefix = "bazel-" + bazel_version,
-        url = "https://github.com/bazelbuild/bazel/archive/" + bazel_version + ".zip",
-    )
-
-    # LICENSE: The Apache Software License, Version 2.0
-    # Buildifier and friends:
-    maybe(
-        http_archive,
-        name = "buildtools",
-        sha256 = buildtools_sha256,
-        strip_prefix = "buildtools-" + buildtools_version,
-        url = "https://github.com/bazelbuild/buildtools/archive/" + buildtools_version + ".zip",
-    )
-
     # LICENSE: The Apache Software License, Version 2.0
     # Additional bazel rules:
     maybe(
@@ -173,6 +153,29 @@ def copybara_repositories():
         ],
     )
 
+    # LICENSE: MIT
+    maybe(
+        http_archive,
+        name = "buildifier_prebuilt",
+        sha256 = "8ada9d88e51ebf5a1fdff37d75ed41d51f5e677cdbeafb0a22dda54747d6e07e",
+        strip_prefix = "buildifier-prebuilt-6.4.0",
+        urls = [
+            "http://github.com/keith/buildifier-prebuilt/archive/6.4.0.tar.gz",
+        ],
+    )
+
+    _non_module_deps(None)
+
+def _non_module_deps(_):
+    # LICENSE: The Apache Software License, Version 2.0
+    maybe(
+        http_archive,
+        name = "io_bazel",
+        sha256 = bazel_sha256,
+        strip_prefix = "bazel-" + bazel_version,
+        url = "https://github.com/bazelbuild/bazel/archive/" + bazel_version + ".zip",
+    )
+
     # LICENSE: The Apache Software License, Version 2.0
     maybe(
         http_archive,
@@ -183,3 +186,5 @@ def copybara_repositories():
         ],
         build_file = Label("//external/third_party:jcommander.BUILD"),
     )
+
+non_module_deps = module_extension(implementation = _non_module_deps)
