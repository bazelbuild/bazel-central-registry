--- Source/FreeImage/PluginJPEG.cpp
+++ Source/FreeImage/PluginJPEG.cpp
@@ -30,14 +30,16 @@
 #pragma warning (disable : 4786) // identifier was truncated to 'number' characters
 #endif
 
+#include <cstddef>
+#include <stdio.h>
+
 extern "C" {
 #define XMD_H
 #undef FAR
 #include <setjmp.h>
 
-#include "../LibJPEG/jinclude.h"
-#include "../LibJPEG/jpeglib.h"
-#include "../LibJPEG/jerror.h"
+#include "jpeglib.h"
+#include "jerror.h"
 }
 
 #include "FreeImage.h"
@@ -503,7 +505,7 @@ marker_is_icc(jpeg_saved_marker_ptr marker) {
   return FALSE.  You might want to issue an error message instead.
 */
 static BOOL 
-jpeg_read_icc_profile(j_decompress_ptr cinfo, JOCTET **icc_data_ptr, unsigned *icc_data_len) {
+FreeImage_jpeg_read_icc_profile(j_decompress_ptr cinfo, JOCTET **icc_data_ptr, unsigned *icc_data_len) {
 	jpeg_saved_marker_ptr marker;
 	int num_markers = 0;
 	int seq_no;
@@ -745,7 +747,7 @@ read_markers(j_decompress_ptr cinfo, FIBITMAP *dib) {
 	BYTE *icc_profile = NULL;
 	unsigned icc_length = 0;
 
-	if( jpeg_read_icc_profile(cinfo, &icc_profile, &icc_length) ) {
+	if( FreeImage_jpeg_read_icc_profile(cinfo, &icc_profile, &icc_length) ) {
 		// copy ICC profile data
 		FreeImage_CreateICCProfile(dib, icc_profile, icc_length);
 		// clean up
@@ -785,7 +787,7 @@ jpeg_write_comment(j_compress_ptr cinfo, FIBITMAP *dib) {
 	Write JPEG_APP2 marker (ICC profile)
 */
 static BOOL 
-jpeg_write_icc_profile(j_compress_ptr cinfo, FIBITMAP *dib) {
+FreeImage_jpeg_write_icc_profile(j_compress_ptr cinfo, FIBITMAP *dib) {
     // marker identifying string "ICC_PROFILE" (null-terminated)
 	BYTE icc_signature[12] = { 0x49, 0x43, 0x43, 0x5F, 0x50, 0x52, 0x4F, 0x46, 0x49, 0x4C, 0x45, 0x00 };
 
@@ -1038,7 +1040,7 @@ write_markers(j_compress_ptr cinfo, FIBITMAP *dib) {
 	jpeg_write_comment(cinfo, dib);
 
 	// write ICC profile
-	jpeg_write_icc_profile(cinfo, dib);
+	FreeImage_jpeg_write_icc_profile(cinfo, dib);
 
 	// write IPTC profile
 	jpeg_write_iptc_profile(cinfo, dib);

--- Source/FreeImageToolkit/JPEGTransform.cpp
+++ Source/FreeImageToolkit/JPEGTransform.cpp
@@ -21,15 +21,17 @@
 // Use at your own risk!
 // ==========================================================
 
+#include <cstddef>
+#include <stdio.h>
+
 extern "C" {
 #define XMD_H
 #undef FAR
 #include <setjmp.h>
 
-#include "../LibJPEG/jinclude.h"
-#include "../LibJPEG/jpeglib.h"
-#include "../LibJPEG/jerror.h"
-#include "../LibJPEG/transupp.h"
+#include "jpeglib.h"
+#include "jerror.h"
+#include "transupp.h"
 }
 
 #include "FreeImage.h"
